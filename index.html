<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ì˜¤ë¡œë¼ ì˜¤í”¼ìŠ¤</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <section class="hero">
    <!-- ì˜¤ë¡œë¼ ë ˆì´ì–´ (ì°½ë¬¸ ë§ˆìŠ¤í¬) -->
    <div class="aurora-layer">
      <div class="aurora a1"></div>
      <div class="aurora a2"></div>
    </div>

    <!-- í”½ì…€ ì•„ì´í…œë“¤: ì´ë¯¸ì§€ ê²½ë¡œëŠ” ì „ë¶€ images/*, ìœ„ì¹˜ëŠ” CSSì—ì„œ %, ì¬ìƒëª©ë¡ì€ data-playlist ë¡œ ì—°ê²° -->
    <img src="images/dapyo2.png"   class="item person1" alt="ì‚¬ëŒ1"
         data-playlist="https://www.youtube.com/embed/videoseries?list=PLXXXX1">
    <img src="images/minesanim.png" class="item person2" alt="ì‚¬ëŒ2"
         data-playlist="https://www.youtube.com/embed/videoseries?list=PLXXXX2">
    <img src="images/namchakim.png" class="item person3" alt="ì‚¬ëŒ3"
         data-playlist="https://www.youtube.com/embed/videoseries?list=PLXXXX3">
    <img src="images/suin.png"      class="item person4" alt="ì‚¬ëŒ4"
         data-playlist="https://www.youtube.com/embed/videoseries?list=PLXXXX4">
    <img src="images/hamster.png"   class="item hamster" alt="í–„ìŠ¤í„°"
         data-playlist="https://www.youtube.com/embed/uxLOLtrcivg?si=2o52KFxbZxtpsMqu">
    <img src="images/fish1.png"     class="item plant1"  alt="í™”ë¶„1"
         data-playlist="https://www.youtube.com/embed/videoseries?list=PLXXXX6">
    <img src="images/fish2.png"     class="item plant2"  alt="í™”ë¶„2"
         data-playlist="https://www.youtube.com/embed/videoseries?list=PLXXXX7">
    <img src="images/mirro.png"     class="item mirror"  alt="ê±°ìš¸"
         data-playlist="https://www.youtube.com/embed/videoseries?list=PLXXXX8">
    <img src="images/gabage.png"    class="item trash"   alt="ì“°ë ˆê¸°í†µ"
         data-playlist="https://www.youtube.com/embed/videoseries?list=PLXXXX9">
  </section>

  <!-- YouTube ëª¨ë‹¬ íŒì—… -->
  <div id="yt-popup" class="popup" aria-hidden="true">
    <div class="popup-inner" role="dialog" aria-modal="true" aria-label="YouTube Playlist">
      <button id="popup-close" class="popup-close" aria-label="ë‹«ê¸°">âœ•</button>
      <iframe id="yt-player" src="" allow="autoplay; encrypted-media" allowfullscreen></iframe>
    </div>
  </div>

  <script>
    // ì•„ì´í…œ í´ë¦­ â†’ data-playlist ì½ì–´ì„œ ëª¨ë‹¬ ì—´ê¸°
    const popup  = document.getElementById('yt-popup');
    const player = document.getElementById('yt-player');
    const close  = document.getElementById('popup-close');

    document.querySelectorAll('.item').forEach(el => {
      el.addEventListener('click', () => {
        const url = el.dataset.playlist;
        if (!url) return;
        // ìë™ì¬ìƒ & ê´€ë ¨ì±„ë„ ìµœì†Œí™”
        player.src = `${url}&autoplay=1&rel=0`;
        popup.style.display = 'flex';
        popup.setAttribute('aria-hidden', 'false');
      });
    });

    // ë‹«ê¸°
    function closePopup() {
      popup.style.display = 'none';
      popup.setAttribute('aria-hidden', 'true');
      player.src = ''; // ì •ì§€
    }
    close.addEventListener('click', closePopup);
    popup.addEventListener('click', (e) => {
      if (e.target === popup) closePopup(); // ë°”ê¹¥ í´ë¦­ìœ¼ë¡œ ë‹«ê¸°
    });
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') closePopup();
    });

/* ================================
   ğŸ§­ ì—ë””íŠ¸ ëª¨ë“œ (drag & log coords)
================================ */
let editMode = false;
const items = document.querySelectorAll('.item');

function enableEditMode() {
  editMode = !editMode;
  alert(editMode ? 'ğŸŸ¢ ì—ë””íŠ¸ ëª¨ë“œ ON â€” ì•„ì´í…œì„ ë“œë˜ê·¸ë¡œ ì›€ì§ì´ì„¸ìš”' :
                   'ğŸ”´ ì—ë””íŠ¸ ëª¨ë“œ OFF â€” ìœ„ì¹˜ ì¡°ì • ì¢…ë£Œ');

  items.forEach(el => {
    el.style.pointerEvents = 'auto';
    el.style.userSelect = 'none';
    el.style.position = 'absolute';

    if (editMode) {
      el.addEventListener('mousedown', dragStart);
    } else {
      el.removeEventListener('mousedown', dragStart);
    }
  });
}

function dragStart(e) {
  if (!editMode) return;
  const el = e.target;
  const rect = el.getBoundingClientRect();
  const startX = e.clientX;
  const startY = e.clientY;
  const startLeft = rect.left;
  const startTop = rect.top;

  function dragMove(ev) {
    const dx = ev.clientX - startX;
    const dy = ev.clientY - startY;
    el.style.left = startLeft + dx + 'px';
    el.style.top  = startTop + dy + 'px';
  }

  function dragEnd() {
    document.removeEventListener('mousemove', dragMove);
    document.removeEventListener('mouseup', dragEnd);
    const percentLeft = ((parseFloat(el.style.left) / window.innerWidth) * 100).toFixed(2);
    const percentTop  = ((parseFloat(el.style.top) / window.innerHeight) * 100).toFixed(2);
    console.log(`.${el.classList[1]} { left: ${percentLeft}%; top: ${percentTop}%; }`);
  }

  document.addEventListener('mousemove', dragMove);
  document.addEventListener('mouseup', dragEnd);
}

document.addEventListener('keydown', (e) => {
  if (e.key === 'e' || e.key === 'E') {
    enableEditMode();
  }
});
</script>
  
<!-- ìœ„ì¹˜ í¸ì§‘ê¸°: ë¸Œë¼ìš°ì € ì½˜ì†” ëŒ€ì‹  íŒŒì¼ì— ë„£ì–´ë„ ë™ì¼í•˜ê²Œ ë™ì‘í•©ë‹ˆë‹¤ -->
<script>
(function(){
  // (ì—¬ê¸°ì— ë‚´ê°€ ì¤€ edit-mode ì „ì²´ ì½”ë“œë¥¼ ë¶™ì—¬ë„£ìœ¼ì„¸ìš”)
  // ì˜ˆ: window.edit = { enable() { ... }, disable() { ... } };
  // íŒŒì¼ì— ë„£ìœ¼ë©´ ë”°ë¡œ ì½˜ì†” í—ˆìš© ë¬¸êµ¬ ì•ˆ ëœ¹ë‹ˆë‹¤.
})();
</script>

</body>
</html>
